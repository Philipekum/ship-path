# Творческое задание
### Выполнено студентами РЭУ: Викторией Карпешиной и Филиппом Цеханским

*Цель работы* - простраивать маршруты судов. 

## Запуск проекта
Запуск файла `main.py`. В открывшемся веб-приложении необходимо отдать должное дизайнеру, а затем выбрать точки маршрута и нажать кнопку "Построить", чтобы продолжить восхищаться художественными решениями.
## Реализация
Проект был разделен на фронт- и бек- разработку. Чтобы совместить Python и HTML+CSS+JS была использована Python-библиотека ***EEL***. Она позволяет вызывать функции Python в коде JS с помощью декоратора `@eel.expose`, а также собирать проект. 

### Бекэнд - ***Филипп Цеханский***
Бекенд реализован на языке Python. Карта представляется в виде двухмерного массива в котором непроходимые клетки обозначают сушу, а проходимые - воду. Степень этой проходимости (т.е. весы ячейки) изменяются благодаря внешним факторам.
В ранних версиях использовался массив numpy, но его использование негативно сказывалось на производительности, так что было принято решение отказаться в пользу классических массивов.
Затем необходимо найти кратчайший возможный путь в этом маршруте. Были рассмотрены все классические алгоритмы поиска кратчайшего пути: [поиск в ширину](https://ru.wikipedia.org/wiki/%D0%9F%D0%BE%D0%B8%D1%81%D0%BA_%D0%B2_%D1%88%D0%B8%D1%80%D0%B8%D0%BD%D1%83), [алгоритм Дейкстры](https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%94%D0%B5%D0%B9%D0%BA%D1%81%D1%82%D1%80%D1%8B) и [Astar (A*)](https://ru.wikipedia.org/wiki/A*).

Выбор пал на A*, ведь исходя из условий нашей задачи он является самым оптимальным. 

Принцип его работы легко увидеть на следующей анимации: 

![Astar](https://upload.wikimedia.org/wikipedia/commons/5/5d/Astar_progress_animation.gif)

Эти задачи реализуются с помощью следующих функций:

- `text_file_map(filename, resolution)` - (файл `map_generation.py`) функция преобразовывает картинку в текстовый документ, состоящий из бинарных символов. Код частично [позаимствован](https://dev.to/anuragrana/generating-ascii-art-from-colored-image-using-python-4ace). Функция вызывается единично при смене карты, использовать ее каждый раз не ликвидно. 

- `array_map(filename)` - (файл `main.py`) функция преобразует текстовый файл в двухмерный массив. 

- `path_finder(start, end)` - (файл `main.py`) функция находит кратчайший путь с помощью алгоритма A*. Использована одноименная и незаслужено непопулярная библиотека. Долгое время велась разработка собственного алгоритма поиска, но он был крайне неэффективен по времени и пришлось использовать сторонний код.


По мнению разработчика, код удовлетворяет большинству требованиям PEP-8 (разработчик ничуть не хотел похвастаться этим фактом, а лишь хотел упоминуть, что такая читаемость и простота кода была достигнута многократным полным переписыванием этого самого кода). 

### Фронтэнд - ***Виктория Карпешина***
По мнению бекенд-разработчика, комментарии здесь по большей части излишни. 

![screenshot](https://sun9-50.userapi.com/impg/poywxxQuGN8MAU7WV46rsYPzpCnq33nFQ9ZOqw/Krf5mWIYQCc.jpg?size=2559x1371&quality=96&sign=4bbc5ca7181cfe891dd581bde1e246a0&type=album)

Такая быстрая отрисовка потребовала использования элементов HTML-5 canvas. 
